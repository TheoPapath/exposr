% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_swimmer.R
\name{plot_swimmer}
\alias{plot_swimmer}
\title{Plot Swimmer Plot}
\usage{
plot_swimmer(
  data,
  id_var,
  start_var = NULL,
  end_var,
  event_var = NULL,
  event_time_var = NULL,
  censor_time_var = NULL,
  biomarker_time_var = NULL,
  biomarker_value_var = NULL,
  exposure_var = NULL,
  color_by = NULL,
  sort_by = NULL,
  facet_by = NULL,
  title = "Swimmer Plot",
  x_lab = "Time",
  y_lab = "Subjects",
  show_grid = TRUE,
  annotate_var = NULL
)
}
\arguments{
\item{data}{A data frame containing the swimmer data.}

\item{id_var}{Column name for subject ID.}

\item{start_var}{Column name for start time (default = 0 if missing).}

\item{end_var}{Column name for end time.}

\item{event_var}{Optional; column name for binary or categorical event indicator (e.g., progression).}

\item{event_time_var}{Optional; column name for time of event (e.g., progression time).}

\item{censor_time_var}{Optional; column name for time of censoring/dropout.}

\item{biomarker_time_var}{Optional; column name for time of biomarker measurement.}

\item{biomarker_value_var}{Optional; column name for biomarker values to be plotted as points.}

\item{exposure_var}{Optional; continuous variable for exposure (e.g., AUC, Cmax).}

\item{color_by}{Optional; column name to color bars by (e.g., treatment group or binned exposure).}

\item{sort_by}{Optional; variable name to sort subjects by (e.g., exposure, duration).}

\item{facet_by}{Optional; variable name to facet by (e.g., treatment group).}

\item{title}{Optional title.}

\item{x_lab}{Optional label for x-axis.}

\item{y_lab}{Optional label for y-axis.}

\item{show_grid}{Logical; whether to show horizontal grid lines (default = TRUE).}

\item{annotate_var}{Optional; column name with text to annotate on bars (e.g., exposure, response).}
}
\value{
A ggplot swimmer plot object.
}
\description{
Creates a swimmer plot to visualize duration-based individual patient data.
Each row typically represents a subject, showing time on treatment (start to end),
along with optional event indicators (e.g., progression), censoring markers,
biomarker values over time, and annotations. Useful for pharmacometric studies
to visualize individual-level timelines annotated by exposure or response.
}
\examples{
if (interactive()) {
  set.seed(123)
  df <- data.frame(
    id = paste0("P", 1:10),
    start = 0,
    end = sample(30:90, 10),
    event_time = c(20, NA, 45, 80, 33, NA, 52, NA, NA, 38),
    event = c(1, 0, 1, 1, 1, 0, 1, 0, 0, 1),
    censor_time = c(NA, 65, NA, NA, NA, 72, NA, NA, 58, NA),
    AUC = round(runif(10, 100, 500), 1),
    best_resp = sample(c("CR", "PR", "SD", "PD"), 10, replace = TRUE),
    group = rep(c("A", "B"), each = 5)
  )
  df$ExposureBin <- cut(df$AUC, breaks = quantile(df$AUC, probs = seq(0, 1, 0.25)), include.lowest = TRUE)

  biomarkers <- expand.grid(id = df$id, time = c(10, 20, 40)) |>
    dplyr::left_join(df[, c("id", "group")], by = "id") |>
    dplyr::mutate(biomarker = runif(n(), 10, 100))

  df_biomarker <- dplyr::left_join(df, biomarkers, by = "id")

  plot_swimmer(
    data = df_biomarker,
    id_var = "id",
    start_var = "start",
    end_var = "end",
    event_var = "event",
    event_time_var = "event_time",
    censor_time_var = "censor_time",
    biomarker_time_var = "time",
    biomarker_value_var = "biomarker",
    exposure_var = "AUC",
    color_by = "ExposureBin",
    annotate_var = "best_resp",
    sort_by = "AUC",
    facet_by = "group",
    title = "Example Swimmer Plot with Exposure and Biomarkers"
  )
}

}
